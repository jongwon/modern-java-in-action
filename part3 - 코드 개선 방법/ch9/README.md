# 9장 리팩토링, 테스팅, 디버깅

## 1. 리팩토링 : 가독성 유연성 개선

### 가독성 개선

### 익명 클래스를 람다 표현식으로

* 람다 표현식의 문제점
  * this 가 가르키는 대상이 다르다.
  * 지연 변수 값을 변경할 수 없다.
  * 인자로 넘어올 함수 타입이 모호할 수 있다.
* IntelliJ와 같은 툴을 쓰면 해결이 된다.

### 람다 표현식을 메소드 참조로

* 코드의 가독성을 높여줄 수 있다.


### 명령형 데이터 처리를 스트림으로
* 코드를 좀 더 간결하게 만들 수 있다.
  
### 코드의 유연성 개선하기


## 2. 디자인 패턴 리팩토링

* 언어의 새로운 기능이 추가되면 기존 코드의 관용코드가 새로운 코드로 대체된다.
  * java5 에 도입된 for-each 루프는 에러 발생률이 적으며 간결해서 인기를 누렸다.
  * java7 의 <> 연산자는 형식 추론의 길을 열었다.
  * (my) annotation 이 도입되면서 generic 코드가 할 수 있는 영역을 확장했다.
  * (my) interface의 default 메서드 지원은 인터페이스의 품격을 한단계 업그레이드 했다. (진작에 있었으면 많은 디자인 패턴이 나오지도 않았을 것이다.)

* 마찬기지로 디자인 패턴도 새로운 람다와 stream api 를 통해 새로운 코드들로 대체되고 있다.
  
### 전략
* 하나의 알고리즘을 보유한 상태에서 런타임에 대체 가능한 적절한 알고리즘을 선택해서 실행하는 기법
* 

### 템플릿

### 옵저버

### 의무 체인

### 팩토리


## 3. 테스팅

### 동작 테스팅

### 동작에 집중

### 람다를 개별 메서드로 분할하기

### 고차원 함수 테스팅


## 4. 디버깅

### stack trace 확인하기

### 정보 로깅하기

